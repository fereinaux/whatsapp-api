"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _config = _interopRequireDefault(require("../../config"));
var _fileTokenStory = _interopRequireDefault(require("./fileTokenStory"));
var _mongodbTokenStory = _interopRequireDefault(require("./mongodbTokenStory"));
var _redisTokenStory = _interopRequireDefault(require("./redisTokenStory"));

class Factory {
  createTokenStory(client) {
    let myTokenStore;
    const type = _config.default.tokenStoreType;

    if (type === 'mongodb') {
      myTokenStore = new _mongodbTokenStory.default(client);
    } else if (type === 'redis') {
      myTokenStore = new _redisTokenStory.default(client);
    } else {
      myTokenStore = new _fileTokenStory.default(client);
    }

    return myTokenStore.tokenStore;
  }
}var _default = exports.default =

Factory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZmlsZVRva2VuU3RvcnkiLCJfbW9uZ29kYlRva2VuU3RvcnkiLCJfcmVkaXNUb2tlblN0b3J5IiwiRmFjdG9yeSIsImNyZWF0ZVRva2VuU3RvcnkiLCJjbGllbnQiLCJteVRva2VuU3RvcmUiLCJ0eXBlIiwiY29uZmlnIiwidG9rZW5TdG9yZVR5cGUiLCJNb25nb2RiVG9rZW5TdG9yZSIsIlJlZGlzVG9rZW5TdG9yZSIsIkZpbGVUb2tlblN0b3JlIiwidG9rZW5TdG9yZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdXRpbC90b2tlblN0b3JlL2ZhY3RvcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi9jb25maWcnO1xyXG5pbXBvcnQgRmlsZVRva2VuU3RvcmUgZnJvbSAnLi9maWxlVG9rZW5TdG9yeSc7XHJcbmltcG9ydCBNb25nb2RiVG9rZW5TdG9yZSBmcm9tICcuL21vbmdvZGJUb2tlblN0b3J5JztcclxuaW1wb3J0IFJlZGlzVG9rZW5TdG9yZSBmcm9tICcuL3JlZGlzVG9rZW5TdG9yeSc7XHJcblxyXG5jbGFzcyBGYWN0b3J5IHtcclxuICBwdWJsaWMgY3JlYXRlVG9rZW5TdG9yeShjbGllbnQ6IGFueSkge1xyXG4gICAgbGV0IG15VG9rZW5TdG9yZTtcclxuICAgIGNvbnN0IHR5cGUgPSBjb25maWcudG9rZW5TdG9yZVR5cGU7XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICdtb25nb2RiJykge1xyXG4gICAgICBteVRva2VuU3RvcmUgPSBuZXcgTW9uZ29kYlRva2VuU3RvcmUoY2xpZW50KTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3JlZGlzJykge1xyXG4gICAgICBteVRva2VuU3RvcmUgPSBuZXcgUmVkaXNUb2tlblN0b3JlKGNsaWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBteVRva2VuU3RvcmUgPSBuZXcgRmlsZVRva2VuU3RvcmUoY2xpZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbXlUb2tlblN0b3JlLnRva2VuU3RvcmU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5O1xyXG4iXSwibWFwcGluZ3MiOiJ5TEFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxrQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZ0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTs7QUFFQSxNQUFNSSxPQUFPLENBQUM7RUFDTEMsZ0JBQWdCQSxDQUFDQyxNQUFXLEVBQUU7SUFDbkMsSUFBSUMsWUFBWTtJQUNoQixNQUFNQyxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsY0FBYzs7SUFFbEMsSUFBSUYsSUFBSSxLQUFLLFNBQVMsRUFBRTtNQUN0QkQsWUFBWSxHQUFHLElBQUlJLDBCQUFpQixDQUFDTCxNQUFNLENBQUM7SUFDOUMsQ0FBQyxNQUFNLElBQUlFLElBQUksS0FBSyxPQUFPLEVBQUU7TUFDM0JELFlBQVksR0FBRyxJQUFJSyx3QkFBZSxDQUFDTixNQUFNLENBQUM7SUFDNUMsQ0FBQyxNQUFNO01BQ0xDLFlBQVksR0FBRyxJQUFJTSx1QkFBYyxDQUFDUCxNQUFNLENBQUM7SUFDM0M7O0lBRUEsT0FBT0MsWUFBWSxDQUFDTyxVQUFVO0VBQ2hDO0FBQ0YsQ0FBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUMsT0FBQTs7QUFFY2IsT0FBTyIsImlnbm9yZUxpc3QiOltdfQ==
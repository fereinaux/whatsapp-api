"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;














var _wppconnect = require("@wppconnect-team/wppconnect");


var _sessionController = require("../controller/sessionController");

var _chatWootClient = _interopRequireDefault(require("./chatWootClient"));
var _functions = require("./functions");
var _sessionUtil = require("./sessionUtil");
var _factory = _interopRequireDefault(require("./tokenStore/factory")); /*
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CreateSessionUtil {startChatWootClient(client) {if (client.config.chatWoot && !client._chatWootClient) client._chatWootClient = new _chatWootClient.default(client.config.chatWoot, client.session);return client._chatWootClient;}async createSessionUtil(req, clientsArray,
  session,
  res)
  {
    try {
      let client = this.getClient(session);
      if (client.status != null && client.status !== 'CLOSED') return;
      client.status = 'INITIALIZING';
      client.config = req.body;

      const tokenStore = new _factory.default();
      const myTokenStore = tokenStore.createTokenStory(client);
      const tokenData = await myTokenStore.getToken(session);

      if (!tokenData) {
        myTokenStore.setToken(session, {});
      }

      this.startChatWootClient(client);

      if (req.serverOptions.customUserDataDir) {
        req.serverOptions.createOptions.puppeteerOptions = {
          args: ['--no-sandbox'],
          headless: 'new',
          executablePath:
          '..\\node_modules\\chromium\\lib\\chromium\\chrome-win\\chrome.exe',
          userDataDir: req.serverOptions.customUserDataDir + session,
          ignoreHTTPSErrors: true,
          slowMo: 150
        };
      }

      const teste = Object.assign(
        {},
        { tokenStore: myTokenStore },
        req.serverOptions.createOptions,
        {
          session: session,
          useChrome: true,
          deviceName: client.config?.deviceName || req.serverOptions.deviceName,
          poweredBy:
          client.config?.poweredBy ||
          req.serverOptions.poweredBy ||
          'WPPConnect-Server',
          catchQR: (
          base64Qr,
          asciiQR,
          attempt,
          urlCode) =>
          {
            this.exportQR(req, base64Qr, urlCode, client, res);
          },
          onLoadingScreen: (percent, message) => {
            req.logger.info(`[${session}] ${percent}% - ${message}`);
          },
          statusFind: (statusFind) => {
            try {
              _sessionUtil.eventEmitter.emit(`status-${client.session}`, client, statusFind);
              if (
              statusFind === 'autocloseCalled' ||
              statusFind === 'desconnectedMobile')
              {
                client.status = 'CLOSED';
                client.qrcode = null;
                client.close();
                clientsArray[session] = undefined;
              }
              (0, _functions.callWebHook)(client, req, 'status-find', {
                status: statusFind,
                session: client.session
              });
              req.logger.info(statusFind + '\n\n');
            } catch (error) {}
          }
        }
      );
      const wppClient = await (0, _wppconnect.create)(teste);

      client = clientsArray[session] = Object.assign(wppClient, client);
      await this.start(req, client);

      if (req.serverOptions.webhook.onParticipantsChanged) {
        await this.onParticipantsChanged(req, client);
      }

      if (req.serverOptions.webhook.onReactionMessage) {
        await this.onReactionMessage(client, req);
      }

      if (req.serverOptions.webhook.onRevokedMessage) {
        await this.onRevokedMessage(client, req);
      }

      if (req.serverOptions.webhook.onPollResponse) {
        await this.onPollResponse(client, req);
      }
      if (req.serverOptions.webhook.onLabelUpdated) {
        await this.onLabelUpdated(client, req);
      }
    } catch (e) {
      req.logger.error(e);
    }
  }

  async opendata(req, session, res) {
    await this.createSessionUtil(req, _sessionUtil.clientsArray, session, res);
  }

  exportQR(
  req,
  qrCode,
  urlCode,
  client,
  res)
  {
    _sessionUtil.eventEmitter.emit(`qrcode-${client.session}`, qrCode, urlCode, client);
    Object.assign(client, {
      status: 'QRCODE',
      qrcode: qrCode,
      urlcode: urlCode
    });

    const imageBuffer = Buffer.from(qrCode, 'base64');

    req.io.emit('qrCode', {
      data: 'data:image/png;base64,' + imageBuffer.toString('base64'),
      session: client.session
    });

    (0, _functions.callWebHook)(client, req, 'qrcode', {
      qrcode: qrCode,
      urlcode: urlCode,
      session: client.session
    });
    if (res && !res._headerSent)
    res.status(200).json({
      status: 'qrcode',
      qrcode: qrCode,
      urlcode: urlCode,
      session: client.session
    });
  }

  async onParticipantsChanged(req, client) {
    await client.isConnected();
    await client.onParticipantsChanged((message) => {
      (0, _functions.callWebHook)(client, req, 'onparticipantschanged', message);
    });
  }

  async start(req, client) {
    try {
      await client.isConnected();
      Object.assign(client, { status: 'CONNECTED', qrcode: null });

      req.logger.info(`Started Session: ${client.session}`);
      //callWebHook(client, req, 'session-logged', { status: 'CONNECTED'});
      req.io.emit('session-logged', { status: true, session: client.session });
      (0, _functions.startHelper)(client, req);
    } catch (error) {
      req.logger.error(error);
      req.io.emit('session-error', client.session);
    }

    await this.checkStateSession(client, req);
    await this.listenMessages(client, req);

    if (req.serverOptions.webhook.listenAcks) {
      await this.listenAcks(client, req);
    }

    if (req.serverOptions.webhook.onPresenceChanged) {
      await this.onPresenceChanged(client, req);
    }
  }

  async checkStateSession(client, req) {
    await client.onStateChange((state) => {
      req.logger.info(`State Change ${state}: ${client.session}`);
      const conflits = [_wppconnect.SocketState.CONFLICT];

      if (conflits.includes(state)) {
        client.useHere();
      }
    });
  }

  async listenMessages(client, req) {
    await client.onMessage(async (message) => {
      _sessionUtil.eventEmitter.emit(`mensagem-${client.session}`, client, message);
      (0, _functions.callWebHook)(client, req, 'onmessage', message);
      if (message.type === 'location')
      client.onLiveLocation(message.sender.id, (location) => {
        (0, _functions.callWebHook)(client, req, 'location', location);
      });
    });

    await client.onAnyMessage(async (message) => {
      message.session = client.session;

      if (message.type === 'sticker') {
        (0, _sessionController.download)(message, client, req.logger);
      }

      if (req.serverOptions?.websocket?.autoDownload) {
        await (0, _functions.autoDownload)(client, req, message);
      }

      req.io.emit('received-message', { response: message });
      if (req.serverOptions.webhook.onSelfMessage && message.fromMe)
      (0, _functions.callWebHook)(client, req, 'onselfmessage', message);
    });

    await client.onIncomingCall(async (call) => {
      req.io.emit('incomingcall', call);
      (0, _functions.callWebHook)(client, req, 'incomingcall', call);
    });
  }

  async listenAcks(client, req) {
    await client.onAck(async (ack) => {
      req.io.emit('onack', ack);
      (0, _functions.callWebHook)(client, req, 'onack', ack);
    });
  }

  async onPresenceChanged(client, req) {
    await client.onPresenceChanged(async (presenceChangedEvent) => {
      req.io.emit('onpresencechanged', presenceChangedEvent);
      (0, _functions.callWebHook)(client, req, 'onpresencechanged', presenceChangedEvent);
    });
  }

  async onReactionMessage(client, req) {
    await client.isConnected();
    await client.onReactionMessage(async (reaction) => {
      req.io.emit('onreactionmessage', reaction);
      (0, _functions.callWebHook)(client, req, 'onreactionmessage', reaction);
    });
  }

  async onRevokedMessage(client, req) {
    await client.isConnected();
    await client.onRevokedMessage(async (response) => {
      req.io.emit('onrevokedmessage', response);
      (0, _functions.callWebHook)(client, req, 'onrevokedmessage', response);
    });
  }
  async onPollResponse(client, req) {
    await client.isConnected();
    await client.onPollResponse(async (response) => {
      req.io.emit('onpollresponse', response);
      (0, _functions.callWebHook)(client, req, 'onpollresponse', response);
    });
  }
  async onLabelUpdated(client, req) {
    await client.isConnected();
    await client.onUpdateLabel(async (response) => {
      req.io.emit('onupdatelabel', response);
      (0, _functions.callWebHook)(client, req, 'onupdatelabel', response);
    });
  }

  encodeFunction(data, webhook) {
    data.webhook = webhook;
    return JSON.stringify(data);
  }

  decodeFunction(text, client) {
    const object = JSON.parse(text);
    if (object.webhook && !client.webhook) client.webhook = object.webhook;
    delete object.webhook;
    return object;
  }

  getClient(session) {
    let client = _sessionUtil.clientsArray[session];

    if (!client)
    client = _sessionUtil.clientsArray[session] = {
      status: null,
      session: session
    };
    return client;
  }
}exports.default = CreateSessionUtil;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfd3BwY29ubmVjdCIsInJlcXVpcmUiLCJfc2Vzc2lvbkNvbnRyb2xsZXIiLCJfY2hhdFdvb3RDbGllbnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2Z1bmN0aW9ucyIsIl9zZXNzaW9uVXRpbCIsIl9mYWN0b3J5IiwiQ3JlYXRlU2Vzc2lvblV0aWwiLCJzdGFydENoYXRXb290Q2xpZW50IiwiY2xpZW50IiwiY29uZmlnIiwiY2hhdFdvb3QiLCJjaGF0V29vdENsaWVudCIsInNlc3Npb24iLCJjcmVhdGVTZXNzaW9uVXRpbCIsInJlcSIsImNsaWVudHNBcnJheSIsInJlcyIsImdldENsaWVudCIsInN0YXR1cyIsImJvZHkiLCJ0b2tlblN0b3JlIiwiRmFjdG9yeSIsIm15VG9rZW5TdG9yZSIsImNyZWF0ZVRva2VuU3RvcnkiLCJ0b2tlbkRhdGEiLCJnZXRUb2tlbiIsInNldFRva2VuIiwic2VydmVyT3B0aW9ucyIsImN1c3RvbVVzZXJEYXRhRGlyIiwiY3JlYXRlT3B0aW9ucyIsInB1cHBldGVlck9wdGlvbnMiLCJhcmdzIiwiaGVhZGxlc3MiLCJleGVjdXRhYmxlUGF0aCIsInVzZXJEYXRhRGlyIiwiaWdub3JlSFRUUFNFcnJvcnMiLCJzbG93TW8iLCJ0ZXN0ZSIsIk9iamVjdCIsImFzc2lnbiIsInVzZUNocm9tZSIsImRldmljZU5hbWUiLCJwb3dlcmVkQnkiLCJjYXRjaFFSIiwiYmFzZTY0UXIiLCJhc2NpaVFSIiwiYXR0ZW1wdCIsInVybENvZGUiLCJleHBvcnRRUiIsIm9uTG9hZGluZ1NjcmVlbiIsInBlcmNlbnQiLCJtZXNzYWdlIiwibG9nZ2VyIiwiaW5mbyIsInN0YXR1c0ZpbmQiLCJldmVudEVtaXR0ZXIiLCJlbWl0IiwicXJjb2RlIiwiY2xvc2UiLCJ1bmRlZmluZWQiLCJjYWxsV2ViSG9vayIsImVycm9yIiwid3BwQ2xpZW50IiwiY3JlYXRlIiwic3RhcnQiLCJ3ZWJob29rIiwib25QYXJ0aWNpcGFudHNDaGFuZ2VkIiwib25SZWFjdGlvbk1lc3NhZ2UiLCJvblJldm9rZWRNZXNzYWdlIiwib25Qb2xsUmVzcG9uc2UiLCJvbkxhYmVsVXBkYXRlZCIsImUiLCJvcGVuZGF0YSIsInFyQ29kZSIsInVybGNvZGUiLCJpbWFnZUJ1ZmZlciIsIkJ1ZmZlciIsImZyb20iLCJpbyIsImRhdGEiLCJ0b1N0cmluZyIsIl9oZWFkZXJTZW50IiwianNvbiIsImlzQ29ubmVjdGVkIiwic3RhcnRIZWxwZXIiLCJjaGVja1N0YXRlU2Vzc2lvbiIsImxpc3Rlbk1lc3NhZ2VzIiwibGlzdGVuQWNrcyIsIm9uUHJlc2VuY2VDaGFuZ2VkIiwib25TdGF0ZUNoYW5nZSIsInN0YXRlIiwiY29uZmxpdHMiLCJTb2NrZXRTdGF0ZSIsIkNPTkZMSUNUIiwiaW5jbHVkZXMiLCJ1c2VIZXJlIiwib25NZXNzYWdlIiwidHlwZSIsIm9uTGl2ZUxvY2F0aW9uIiwic2VuZGVyIiwiaWQiLCJsb2NhdGlvbiIsIm9uQW55TWVzc2FnZSIsImRvd25sb2FkIiwid2Vic29ja2V0IiwiYXV0b0Rvd25sb2FkIiwicmVzcG9uc2UiLCJvblNlbGZNZXNzYWdlIiwiZnJvbU1lIiwib25JbmNvbWluZ0NhbGwiLCJjYWxsIiwib25BY2siLCJhY2siLCJwcmVzZW5jZUNoYW5nZWRFdmVudCIsInJlYWN0aW9uIiwib25VcGRhdGVMYWJlbCIsImVuY29kZUZ1bmN0aW9uIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlY29kZUZ1bmN0aW9uIiwidGV4dCIsIm9iamVjdCIsInBhcnNlIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbC9jcmVhdGVTZXNzaW9uVXRpbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5pbXBvcnQgeyBjcmVhdGUsIFNvY2tldFN0YXRlIH0gZnJvbSAnQHdwcGNvbm5lY3QtdGVhbS93cHBjb25uZWN0JztcclxuaW1wb3J0IHsgUmVxdWVzdCB9IGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IHsgZG93bmxvYWQgfSBmcm9tICcuLi9jb250cm9sbGVyL3Nlc3Npb25Db250cm9sbGVyJztcclxuaW1wb3J0IHsgV2hhdHNBcHBTZXJ2ZXIgfSBmcm9tICcuLi90eXBlcy9XaGF0c0FwcFNlcnZlcic7XHJcbmltcG9ydCBjaGF0V29vdENsaWVudCBmcm9tICcuL2NoYXRXb290Q2xpZW50JztcclxuaW1wb3J0IHsgYXV0b0Rvd25sb2FkLCBjYWxsV2ViSG9vaywgc3RhcnRIZWxwZXIgfSBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGNsaWVudHNBcnJheSwgZXZlbnRFbWl0dGVyIH0gZnJvbSAnLi9zZXNzaW9uVXRpbCc7XHJcbmltcG9ydCBGYWN0b3J5IGZyb20gJy4vdG9rZW5TdG9yZS9mYWN0b3J5JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENyZWF0ZVNlc3Npb25VdGlsIHtcclxuICBzdGFydENoYXRXb290Q2xpZW50KGNsaWVudDogYW55KSB7XHJcbiAgICBpZiAoY2xpZW50LmNvbmZpZy5jaGF0V29vdCAmJiAhY2xpZW50Ll9jaGF0V29vdENsaWVudClcclxuICAgICAgY2xpZW50Ll9jaGF0V29vdENsaWVudCA9IG5ldyBjaGF0V29vdENsaWVudChcclxuICAgICAgICBjbGllbnQuY29uZmlnLmNoYXRXb290LFxyXG4gICAgICAgIGNsaWVudC5zZXNzaW9uXHJcbiAgICAgICk7XHJcbiAgICByZXR1cm4gY2xpZW50Ll9jaGF0V29vdENsaWVudDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZVNlc3Npb25VdGlsKFxyXG4gICAgcmVxOiBhbnksXHJcbiAgICBjbGllbnRzQXJyYXk6IGFueSxcclxuICAgIHNlc3Npb246IHN0cmluZyxcclxuICAgIHJlcz86IGFueVxyXG4gICkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGNsaWVudCA9IHRoaXMuZ2V0Q2xpZW50KHNlc3Npb24pIGFzIGFueTtcclxuICAgICAgaWYgKGNsaWVudC5zdGF0dXMgIT0gbnVsbCAmJiBjbGllbnQuc3RhdHVzICE9PSAnQ0xPU0VEJykgcmV0dXJuO1xyXG4gICAgICBjbGllbnQuc3RhdHVzID0gJ0lOSVRJQUxJWklORyc7XHJcbiAgICAgIGNsaWVudC5jb25maWcgPSByZXEuYm9keTtcclxuXHJcbiAgICAgIGNvbnN0IHRva2VuU3RvcmUgPSBuZXcgRmFjdG9yeSgpO1xyXG4gICAgICBjb25zdCBteVRva2VuU3RvcmUgPSB0b2tlblN0b3JlLmNyZWF0ZVRva2VuU3RvcnkoY2xpZW50KTtcclxuICAgICAgY29uc3QgdG9rZW5EYXRhID0gYXdhaXQgbXlUb2tlblN0b3JlLmdldFRva2VuKHNlc3Npb24pO1xyXG5cclxuICAgICAgaWYgKCF0b2tlbkRhdGEpIHtcclxuICAgICAgICBteVRva2VuU3RvcmUuc2V0VG9rZW4oc2Vzc2lvbiwge30pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnN0YXJ0Q2hhdFdvb3RDbGllbnQoY2xpZW50KTtcclxuXHJcbiAgICAgIGlmIChyZXEuc2VydmVyT3B0aW9ucy5jdXN0b21Vc2VyRGF0YURpcikge1xyXG4gICAgICAgIHJlcS5zZXJ2ZXJPcHRpb25zLmNyZWF0ZU9wdGlvbnMucHVwcGV0ZWVyT3B0aW9ucyA9IHtcclxuICAgICAgICAgIGFyZ3M6IFsnLS1uby1zYW5kYm94J10sXHJcbiAgICAgICAgICBoZWFkbGVzczogJ25ldycsXHJcbiAgICAgICAgICBleGVjdXRhYmxlUGF0aDpcclxuICAgICAgICAgICAgJy4uXFxcXG5vZGVfbW9kdWxlc1xcXFxjaHJvbWl1bVxcXFxsaWJcXFxcY2hyb21pdW1cXFxcY2hyb21lLXdpblxcXFxjaHJvbWUuZXhlJyxcclxuICAgICAgICAgIHVzZXJEYXRhRGlyOiByZXEuc2VydmVyT3B0aW9ucy5jdXN0b21Vc2VyRGF0YURpciArIHNlc3Npb24sXHJcbiAgICAgICAgICBpZ25vcmVIVFRQU0Vycm9yczogdHJ1ZSxcclxuICAgICAgICAgIHNsb3dNbzogMTUwLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRlc3RlID0gT2JqZWN0LmFzc2lnbihcclxuICAgICAgICB7fSxcclxuICAgICAgICB7IHRva2VuU3RvcmU6IG15VG9rZW5TdG9yZSB9LFxyXG4gICAgICAgIHJlcS5zZXJ2ZXJPcHRpb25zLmNyZWF0ZU9wdGlvbnMsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc2Vzc2lvbjogc2Vzc2lvbixcclxuICAgICAgICAgIHVzZUNocm9tZTogdHJ1ZSxcclxuICAgICAgICAgIGRldmljZU5hbWU6IGNsaWVudC5jb25maWc/LmRldmljZU5hbWUgfHwgcmVxLnNlcnZlck9wdGlvbnMuZGV2aWNlTmFtZSxcclxuICAgICAgICAgIHBvd2VyZWRCeTpcclxuICAgICAgICAgICAgY2xpZW50LmNvbmZpZz8ucG93ZXJlZEJ5IHx8XHJcbiAgICAgICAgICAgIHJlcS5zZXJ2ZXJPcHRpb25zLnBvd2VyZWRCeSB8fFxyXG4gICAgICAgICAgICAnV1BQQ29ubmVjdC1TZXJ2ZXInLFxyXG4gICAgICAgICAgY2F0Y2hRUjogKFxyXG4gICAgICAgICAgICBiYXNlNjRRcjogYW55LFxyXG4gICAgICAgICAgICBhc2NpaVFSOiBhbnksXHJcbiAgICAgICAgICAgIGF0dGVtcHQ6IGFueSxcclxuICAgICAgICAgICAgdXJsQ29kZTogc3RyaW5nXHJcbiAgICAgICAgICApID0+IHtcclxuICAgICAgICAgICAgdGhpcy5leHBvcnRRUihyZXEsIGJhc2U2NFFyLCB1cmxDb2RlLCBjbGllbnQsIHJlcyk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgb25Mb2FkaW5nU2NyZWVuOiAocGVyY2VudDogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgcmVxLmxvZ2dlci5pbmZvKGBbJHtzZXNzaW9ufV0gJHtwZXJjZW50fSUgLSAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc3RhdHVzRmluZDogKHN0YXR1c0ZpbmQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGV2ZW50RW1pdHRlci5lbWl0KGBzdGF0dXMtJHtjbGllbnQuc2Vzc2lvbn1gLCBjbGllbnQsIHN0YXR1c0ZpbmQpO1xyXG4gICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHN0YXR1c0ZpbmQgPT09ICdhdXRvY2xvc2VDYWxsZWQnIHx8XHJcbiAgICAgICAgICAgICAgICBzdGF0dXNGaW5kID09PSAnZGVzY29ubmVjdGVkTW9iaWxlJ1xyXG4gICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LnN0YXR1cyA9ICdDTE9TRUQnO1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LnFyY29kZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBjbGllbnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIGNsaWVudHNBcnJheVtzZXNzaW9uXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdzdGF0dXMtZmluZCcsIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzRmluZCxcclxuICAgICAgICAgICAgICAgIHNlc3Npb246IGNsaWVudC5zZXNzaW9uLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIHJlcS5sb2dnZXIuaW5mbyhzdGF0dXNGaW5kICsgJ1xcblxcbicpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge31cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCB3cHBDbGllbnQgPSBhd2FpdCBjcmVhdGUodGVzdGUpO1xyXG5cclxuICAgICAgY2xpZW50ID0gY2xpZW50c0FycmF5W3Nlc3Npb25dID0gT2JqZWN0LmFzc2lnbih3cHBDbGllbnQsIGNsaWVudCk7XHJcbiAgICAgIGF3YWl0IHRoaXMuc3RhcnQocmVxLCBjbGllbnQpO1xyXG5cclxuICAgICAgaWYgKHJlcS5zZXJ2ZXJPcHRpb25zLndlYmhvb2sub25QYXJ0aWNpcGFudHNDaGFuZ2VkKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5vblBhcnRpY2lwYW50c0NoYW5nZWQocmVxLCBjbGllbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmVxLnNlcnZlck9wdGlvbnMud2ViaG9vay5vblJlYWN0aW9uTWVzc2FnZSkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMub25SZWFjdGlvbk1lc3NhZ2UoY2xpZW50LCByZXEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmVxLnNlcnZlck9wdGlvbnMud2ViaG9vay5vblJldm9rZWRNZXNzYWdlKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5vblJldm9rZWRNZXNzYWdlKGNsaWVudCwgcmVxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHJlcS5zZXJ2ZXJPcHRpb25zLndlYmhvb2sub25Qb2xsUmVzcG9uc2UpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLm9uUG9sbFJlc3BvbnNlKGNsaWVudCwgcmVxKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVxLnNlcnZlck9wdGlvbnMud2ViaG9vay5vbkxhYmVsVXBkYXRlZCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMub25MYWJlbFVwZGF0ZWQoY2xpZW50LCByZXEpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJlcS5sb2dnZXIuZXJyb3IoZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBvcGVuZGF0YShyZXE6IFJlcXVlc3QsIHNlc3Npb246IHN0cmluZywgcmVzPzogYW55KSB7XHJcbiAgICBhd2FpdCB0aGlzLmNyZWF0ZVNlc3Npb25VdGlsKHJlcSwgY2xpZW50c0FycmF5LCBzZXNzaW9uLCByZXMpO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0UVIoXHJcbiAgICByZXE6IGFueSxcclxuICAgIHFyQ29kZTogYW55LFxyXG4gICAgdXJsQ29kZTogYW55LFxyXG4gICAgY2xpZW50OiBXaGF0c0FwcFNlcnZlcixcclxuICAgIHJlcz86IGFueVxyXG4gICkge1xyXG4gICAgZXZlbnRFbWl0dGVyLmVtaXQoYHFyY29kZS0ke2NsaWVudC5zZXNzaW9ufWAsIHFyQ29kZSwgdXJsQ29kZSwgY2xpZW50KTtcclxuICAgIE9iamVjdC5hc3NpZ24oY2xpZW50LCB7XHJcbiAgICAgIHN0YXR1czogJ1FSQ09ERScsXHJcbiAgICAgIHFyY29kZTogcXJDb2RlLFxyXG4gICAgICB1cmxjb2RlOiB1cmxDb2RlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBCdWZmZXIuZnJvbShxckNvZGUsICdiYXNlNjQnKTtcclxuXHJcbiAgICByZXEuaW8uZW1pdCgncXJDb2RlJywge1xyXG4gICAgICBkYXRhOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBpbWFnZUJ1ZmZlci50b1N0cmluZygnYmFzZTY0JyksXHJcbiAgICAgIHNlc3Npb246IGNsaWVudC5zZXNzaW9uLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdxcmNvZGUnLCB7XHJcbiAgICAgIHFyY29kZTogcXJDb2RlLFxyXG4gICAgICB1cmxjb2RlOiB1cmxDb2RlLFxyXG4gICAgICBzZXNzaW9uOiBjbGllbnQuc2Vzc2lvbixcclxuICAgIH0pO1xyXG4gICAgaWYgKHJlcyAmJiAhcmVzLl9oZWFkZXJTZW50KVxyXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3RhdHVzOiAncXJjb2RlJyxcclxuICAgICAgICBxcmNvZGU6IHFyQ29kZSxcclxuICAgICAgICB1cmxjb2RlOiB1cmxDb2RlLFxyXG4gICAgICAgIHNlc3Npb246IGNsaWVudC5zZXNzaW9uLFxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIG9uUGFydGljaXBhbnRzQ2hhbmdlZChyZXE6IGFueSwgY2xpZW50OiBhbnkpIHtcclxuICAgIGF3YWl0IGNsaWVudC5pc0Nvbm5lY3RlZCgpO1xyXG4gICAgYXdhaXQgY2xpZW50Lm9uUGFydGljaXBhbnRzQ2hhbmdlZCgobWVzc2FnZTogYW55KSA9PiB7XHJcbiAgICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnb25wYXJ0aWNpcGFudHNjaGFuZ2VkJywgbWVzc2FnZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHN0YXJ0KHJlcTogUmVxdWVzdCwgY2xpZW50OiBXaGF0c0FwcFNlcnZlcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgY2xpZW50LmlzQ29ubmVjdGVkKCk7XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oY2xpZW50LCB7IHN0YXR1czogJ0NPTk5FQ1RFRCcsIHFyY29kZTogbnVsbCB9KTtcclxuXHJcbiAgICAgIHJlcS5sb2dnZXIuaW5mbyhgU3RhcnRlZCBTZXNzaW9uOiAke2NsaWVudC5zZXNzaW9ufWApO1xyXG4gICAgICAvL2NhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnc2Vzc2lvbi1sb2dnZWQnLCB7IHN0YXR1czogJ0NPTk5FQ1RFRCd9KTtcclxuICAgICAgcmVxLmlvLmVtaXQoJ3Nlc3Npb24tbG9nZ2VkJywgeyBzdGF0dXM6IHRydWUsIHNlc3Npb246IGNsaWVudC5zZXNzaW9uIH0pO1xyXG4gICAgICBzdGFydEhlbHBlcihjbGllbnQsIHJlcSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXEubG9nZ2VyLmVycm9yKGVycm9yKTtcclxuICAgICAgcmVxLmlvLmVtaXQoJ3Nlc3Npb24tZXJyb3InLCBjbGllbnQuc2Vzc2lvbik7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgdGhpcy5jaGVja1N0YXRlU2Vzc2lvbihjbGllbnQsIHJlcSk7XHJcbiAgICBhd2FpdCB0aGlzLmxpc3Rlbk1lc3NhZ2VzKGNsaWVudCwgcmVxKTtcclxuXHJcbiAgICBpZiAocmVxLnNlcnZlck9wdGlvbnMud2ViaG9vay5saXN0ZW5BY2tzKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMubGlzdGVuQWNrcyhjbGllbnQsIHJlcSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlcS5zZXJ2ZXJPcHRpb25zLndlYmhvb2sub25QcmVzZW5jZUNoYW5nZWQpIHtcclxuICAgICAgYXdhaXQgdGhpcy5vblByZXNlbmNlQ2hhbmdlZChjbGllbnQsIHJlcSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBjaGVja1N0YXRlU2Vzc2lvbihjbGllbnQ6IFdoYXRzQXBwU2VydmVyLCByZXE6IFJlcXVlc3QpIHtcclxuICAgIGF3YWl0IGNsaWVudC5vblN0YXRlQ2hhbmdlKChzdGF0ZSkgPT4ge1xyXG4gICAgICByZXEubG9nZ2VyLmluZm8oYFN0YXRlIENoYW5nZSAke3N0YXRlfTogJHtjbGllbnQuc2Vzc2lvbn1gKTtcclxuICAgICAgY29uc3QgY29uZmxpdHMgPSBbU29ja2V0U3RhdGUuQ09ORkxJQ1RdO1xyXG5cclxuICAgICAgaWYgKGNvbmZsaXRzLmluY2x1ZGVzKHN0YXRlKSkge1xyXG4gICAgICAgIGNsaWVudC51c2VIZXJlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgbGlzdGVuTWVzc2FnZXMoY2xpZW50OiBXaGF0c0FwcFNlcnZlciwgcmVxOiBSZXF1ZXN0KSB7XHJcbiAgICBhd2FpdCBjbGllbnQub25NZXNzYWdlKGFzeW5jIChtZXNzYWdlOiBhbnkpID0+IHtcclxuICAgICAgZXZlbnRFbWl0dGVyLmVtaXQoYG1lbnNhZ2VtLSR7Y2xpZW50LnNlc3Npb259YCwgY2xpZW50LCBtZXNzYWdlKTtcclxuICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdvbm1lc3NhZ2UnLCBtZXNzYWdlKTtcclxuICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ2xvY2F0aW9uJylcclxuICAgICAgICBjbGllbnQub25MaXZlTG9jYXRpb24obWVzc2FnZS5zZW5kZXIuaWQsIChsb2NhdGlvbikgPT4ge1xyXG4gICAgICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdsb2NhdGlvbicsIGxvY2F0aW9uKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IGNsaWVudC5vbkFueU1lc3NhZ2UoYXN5bmMgKG1lc3NhZ2U6IGFueSkgPT4ge1xyXG4gICAgICBtZXNzYWdlLnNlc3Npb24gPSBjbGllbnQuc2Vzc2lvbjtcclxuXHJcbiAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09ICdzdGlja2VyJykge1xyXG4gICAgICAgIGRvd25sb2FkKG1lc3NhZ2UsIGNsaWVudCwgcmVxLmxvZ2dlcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChyZXEuc2VydmVyT3B0aW9ucz8ud2Vic29ja2V0Py5hdXRvRG93bmxvYWQpIHtcclxuICAgICAgICBhd2FpdCBhdXRvRG93bmxvYWQoY2xpZW50LCByZXEsIG1lc3NhZ2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXEuaW8uZW1pdCgncmVjZWl2ZWQtbWVzc2FnZScsIHsgcmVzcG9uc2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgIGlmIChyZXEuc2VydmVyT3B0aW9ucy53ZWJob29rLm9uU2VsZk1lc3NhZ2UgJiYgbWVzc2FnZS5mcm9tTWUpXHJcbiAgICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdvbnNlbGZtZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBjbGllbnQub25JbmNvbWluZ0NhbGwoYXN5bmMgKGNhbGwpID0+IHtcclxuICAgICAgcmVxLmlvLmVtaXQoJ2luY29taW5nY2FsbCcsIGNhbGwpO1xyXG4gICAgICBjYWxsV2ViSG9vayhjbGllbnQsIHJlcSwgJ2luY29taW5nY2FsbCcsIGNhbGwpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBsaXN0ZW5BY2tzKGNsaWVudDogV2hhdHNBcHBTZXJ2ZXIsIHJlcTogUmVxdWVzdCkge1xyXG4gICAgYXdhaXQgY2xpZW50Lm9uQWNrKGFzeW5jIChhY2spID0+IHtcclxuICAgICAgcmVxLmlvLmVtaXQoJ29uYWNrJywgYWNrKTtcclxuICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdvbmFjaycsIGFjayk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIG9uUHJlc2VuY2VDaGFuZ2VkKGNsaWVudDogV2hhdHNBcHBTZXJ2ZXIsIHJlcTogUmVxdWVzdCkge1xyXG4gICAgYXdhaXQgY2xpZW50Lm9uUHJlc2VuY2VDaGFuZ2VkKGFzeW5jIChwcmVzZW5jZUNoYW5nZWRFdmVudCkgPT4ge1xyXG4gICAgICByZXEuaW8uZW1pdCgnb25wcmVzZW5jZWNoYW5nZWQnLCBwcmVzZW5jZUNoYW5nZWRFdmVudCk7XHJcbiAgICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnb25wcmVzZW5jZWNoYW5nZWQnLCBwcmVzZW5jZUNoYW5nZWRFdmVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIG9uUmVhY3Rpb25NZXNzYWdlKGNsaWVudDogV2hhdHNBcHBTZXJ2ZXIsIHJlcTogUmVxdWVzdCkge1xyXG4gICAgYXdhaXQgY2xpZW50LmlzQ29ubmVjdGVkKCk7XHJcbiAgICBhd2FpdCBjbGllbnQub25SZWFjdGlvbk1lc3NhZ2UoYXN5bmMgKHJlYWN0aW9uOiBhbnkpID0+IHtcclxuICAgICAgcmVxLmlvLmVtaXQoJ29ucmVhY3Rpb25tZXNzYWdlJywgcmVhY3Rpb24pO1xyXG4gICAgICBjYWxsV2ViSG9vayhjbGllbnQsIHJlcSwgJ29ucmVhY3Rpb25tZXNzYWdlJywgcmVhY3Rpb24pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBvblJldm9rZWRNZXNzYWdlKGNsaWVudDogV2hhdHNBcHBTZXJ2ZXIsIHJlcTogUmVxdWVzdCkge1xyXG4gICAgYXdhaXQgY2xpZW50LmlzQ29ubmVjdGVkKCk7XHJcbiAgICBhd2FpdCBjbGllbnQub25SZXZva2VkTWVzc2FnZShhc3luYyAocmVzcG9uc2U6IGFueSkgPT4ge1xyXG4gICAgICByZXEuaW8uZW1pdCgnb25yZXZva2VkbWVzc2FnZScsIHJlc3BvbnNlKTtcclxuICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdvbnJldm9rZWRtZXNzYWdlJywgcmVzcG9uc2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFzeW5jIG9uUG9sbFJlc3BvbnNlKGNsaWVudDogV2hhdHNBcHBTZXJ2ZXIsIHJlcTogUmVxdWVzdCkge1xyXG4gICAgYXdhaXQgY2xpZW50LmlzQ29ubmVjdGVkKCk7XHJcbiAgICBhd2FpdCBjbGllbnQub25Qb2xsUmVzcG9uc2UoYXN5bmMgKHJlc3BvbnNlOiBhbnkpID0+IHtcclxuICAgICAgcmVxLmlvLmVtaXQoJ29ucG9sbHJlc3BvbnNlJywgcmVzcG9uc2UpO1xyXG4gICAgICBjYWxsV2ViSG9vayhjbGllbnQsIHJlcSwgJ29ucG9sbHJlc3BvbnNlJywgcmVzcG9uc2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFzeW5jIG9uTGFiZWxVcGRhdGVkKGNsaWVudDogV2hhdHNBcHBTZXJ2ZXIsIHJlcTogUmVxdWVzdCkge1xyXG4gICAgYXdhaXQgY2xpZW50LmlzQ29ubmVjdGVkKCk7XHJcbiAgICBhd2FpdCBjbGllbnQub25VcGRhdGVMYWJlbChhc3luYyAocmVzcG9uc2U6IGFueSkgPT4ge1xyXG4gICAgICByZXEuaW8uZW1pdCgnb251cGRhdGVsYWJlbCcsIHJlc3BvbnNlKTtcclxuICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdvbnVwZGF0ZWxhYmVsJywgcmVzcG9uc2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmNvZGVGdW5jdGlvbihkYXRhOiBhbnksIHdlYmhvb2s6IGFueSkge1xyXG4gICAgZGF0YS53ZWJob29rID0gd2ViaG9vaztcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICB9XHJcblxyXG4gIGRlY29kZUZ1bmN0aW9uKHRleHQ6IGFueSwgY2xpZW50OiBhbnkpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IEpTT04ucGFyc2UodGV4dCk7XHJcbiAgICBpZiAob2JqZWN0LndlYmhvb2sgJiYgIWNsaWVudC53ZWJob29rKSBjbGllbnQud2ViaG9vayA9IG9iamVjdC53ZWJob29rO1xyXG4gICAgZGVsZXRlIG9iamVjdC53ZWJob29rO1xyXG4gICAgcmV0dXJuIG9iamVjdDtcclxuICB9XHJcblxyXG4gIGdldENsaWVudChzZXNzaW9uOiBhbnkpIHtcclxuICAgIGxldCBjbGllbnQgPSBjbGllbnRzQXJyYXlbc2Vzc2lvbl07XHJcblxyXG4gICAgaWYgKCFjbGllbnQpXHJcbiAgICAgIGNsaWVudCA9IGNsaWVudHNBcnJheVtzZXNzaW9uXSA9IHtcclxuICAgICAgICBzdGF0dXM6IG51bGwsXHJcbiAgICAgICAgc2Vzc2lvbjogc2Vzc2lvbixcclxuICAgICAgfSBhcyBhbnk7XHJcbiAgICByZXR1cm4gY2xpZW50O1xyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQWVBLElBQUFBLFdBQUEsR0FBQUMsT0FBQTs7O0FBR0EsSUFBQUMsa0JBQUEsR0FBQUQsT0FBQTs7QUFFQSxJQUFBRSxlQUFBLEdBQUFDLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBSSxVQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxZQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxRQUFBLEdBQUFILHNCQUFBLENBQUFILE9BQUEsMEJBQTJDLENBdkIzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FXZSxNQUFNTyxpQkFBaUIsQ0FBQyxDQUNyQ0MsbUJBQW1CQSxDQUFDQyxNQUFXLEVBQUUsQ0FDL0IsSUFBSUEsTUFBTSxDQUFDQyxNQUFNLENBQUNDLFFBQVEsSUFBSSxDQUFDRixNQUFNLENBQUNQLGVBQWUsRUFDbkRPLE1BQU0sQ0FBQ1AsZUFBZSxHQUFHLElBQUlVLHVCQUFjLENBQ3pDSCxNQUFNLENBQUNDLE1BQU0sQ0FBQ0MsUUFBUSxFQUN0QkYsTUFBTSxDQUFDSSxPQUNULENBQUMsQ0FDSCxPQUFPSixNQUFNLENBQUNQLGVBQWUsQ0FDL0IsQ0FFQSxNQUFNWSxpQkFBaUJBLENBQ3JCQyxHQUFRLEVBQ1JDLFlBQWlCO0VBQ2pCSCxPQUFlO0VBQ2ZJLEdBQVM7RUFDVDtJQUNBLElBQUk7TUFDRixJQUFJUixNQUFNLEdBQUcsSUFBSSxDQUFDUyxTQUFTLENBQUNMLE9BQU8sQ0FB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
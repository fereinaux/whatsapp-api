"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;














var _wppconnect = require("@wppconnect-team/wppconnect");


var _sessionController = require("../controller/sessionController");

var _chatWootClient = _interopRequireDefault(require("./chatWootClient"));
var _functions = require("./functions");
var _sessionUtil = require("./sessionUtil");
var _factory = _interopRequireDefault(require("./tokenStore/factory")); /*
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CreateSessionUtil {startChatWootClient(client) {if (client.config.chatWoot && !client._chatWootClient) client._chatWootClient = new _chatWootClient.default(client.config.chatWoot, client.session);return client._chatWootClient;}async createSessionUtil(req, clientsArray,
  session,
  res)
  {
    try {
      let client = this.getClient(session);
      if (client.status != null && client.status !== 'CLOSED') return;
      client.status = 'INITIALIZING';
      client.config = req.body;

      const tokenStore = new _factory.default();
      const myTokenStore = tokenStore.createTokenStory(client);
      const tokenData = await myTokenStore.getToken(session);

      if (!tokenData) {
        myTokenStore.setToken(session, {});
      }

      this.startChatWootClient(client);

      if (req.serverOptions.customUserDataDir) {
        req.serverOptions.createOptions.puppeteerOptions = {
          args: ['--no-sandbox'],
          headless: 'new',
          executablePath:
          '..\\node_modules\\chromium\\lib\\chromium\\chrome-win\\chrome.exe',
          userDataDir: req.serverOptions.customUserDataDir + session,
          ignoreHTTPSErrors: true,
          slowMo: 150
        };
      }

      const teste = Object.assign(
        {},
        { tokenStore: myTokenStore },
        req.serverOptions.createOptions,
        {
          session: session,
          useChrome: false,
          deviceName: client.config?.deviceName || req.serverOptions.deviceName,
          poweredBy:
          client.config?.poweredBy ||
          req.serverOptions.poweredBy ||
          'WPPConnect-Server',
          catchQR: (
          base64Qr,
          asciiQR,
          attempt,
          urlCode) =>
          {
            this.exportQR(req, base64Qr, urlCode, client, res);
          },
          onLoadingScreen: (percent, message) => {
            req.logger.info(`[${session}] ${percent}% - ${message}`);
          },
          statusFind: (statusFind) => {
            try {
              _sessionUtil.eventEmitter.emit(`status-${client.session}`, client, statusFind);
              if (
              statusFind === 'autocloseCalled' ||
              statusFind === 'desconnectedMobile')
              {
                client.status = 'CLOSED';
                client.qrcode = null;
                client.close();
                clientsArray[session] = undefined;
              }
              (0, _functions.callWebHook)(client, req, 'status-find', {
                status: statusFind,
                session: client.session
              });
              req.logger.info(statusFind + '\n\n');
            } catch (error) {}
          }
        }
      );
      const wppClient = await (0, _wppconnect.create)(teste);

      client = clientsArray[session] = Object.assign(wppClient, client);
      await this.start(req, client);

      if (req.serverOptions.webhook.onParticipantsChanged) {
        await this.onParticipantsChanged(req, client);
      }

      if (req.serverOptions.webhook.onReactionMessage) {
        await this.onReactionMessage(client, req);
      }

      if (req.serverOptions.webhook.onRevokedMessage) {
        await this.onRevokedMessage(client, req);
      }

      if (req.serverOptions.webhook.onPollResponse) {
        await this.onPollResponse(client, req);
      }
      if (req.serverOptions.webhook.onLabelUpdated) {
        await this.onLabelUpdated(client, req);
      }
    } catch (e) {
      req.logger.error(e);
    }
  }

  async opendata(req, session, res) {
    await this.createSessionUtil(req, _sessionUtil.clientsArray, session, res);
  }

  exportQR(
  req,
  qrCode,
  urlCode,
  client,
  res)
  {
    _sessionUtil.eventEmitter.emit(`qrcode-${client.session}`, qrCode, urlCode, client);
    Object.assign(client, {
      status: 'QRCODE',
      qrcode: qrCode,
      urlcode: urlCode
    });

    const imageBuffer = Buffer.from(qrCode, 'base64');

    req.io.emit('qrCode', {
      data: 'data:image/png;base64,' + imageBuffer.toString('base64'),
      session: client.session
    });

    (0, _functions.callWebHook)(client, req, 'qrcode', {
      qrcode: qrCode,
      urlcode: urlCode,
      session: client.session
    });
    if (res && !res._headerSent)
    res.status(200).json({
      status: 'qrcode',
      qrcode: qrCode,
      urlcode: urlCode,
      session: client.session
    });
  }

  async onParticipantsChanged(req, client) {
    await client.isConnected();
    await client.onParticipantsChanged((message) => {
      (0, _functions.callWebHook)(client, req, 'onparticipantschanged', message);
    });
  }

  async start(req, client) {
    try {
      await client.isConnected();
      Object.assign(client, { status: 'CONNECTED', qrcode: null });

      req.logger.info(`Started Session: ${client.session}`);
      //callWebHook(client, req, 'session-logged', { status: 'CONNECTED'});
      req.io.emit('session-logged', { status: true, session: client.session });
      (0, _functions.startHelper)(client, req);
    } catch (error) {
      req.logger.error(error);
      req.io.emit('session-error', client.session);
    }

    await this.checkStateSession(client, req);
    await this.listenMessages(client, req);

    if (req.serverOptions.webhook.listenAcks) {
      await this.listenAcks(client, req);
    }

    if (req.serverOptions.webhook.onPresenceChanged) {
      await this.onPresenceChanged(client, req);
    }
  }

  async checkStateSession(client, req) {
    await client.onStateChange((state) => {
      req.logger.info(`State Change ${state}: ${client.session}`);
      const conflits = [_wppconnect.SocketState.CONFLICT];

      if (conflits.includes(state)) {
        client.useHere();
      }
    });
  }

  async listenMessages(client, req) {
    await client.onMessage(async (message) => {
      _sessionUtil.eventEmitter.emit(`mensagem-${client.session}`, client, message);
      (0, _functions.callWebHook)(client, req, 'onmessage', message);
      if (message.type === 'location')
      client.onLiveLocation(message.sender.id, (location) => {
        (0, _functions.callWebHook)(client, req, 'location', location);
      });
    });

    await client.onAnyMessage(async (message) => {
      message.session = client.session;

      if (message.type === 'sticker') {
        (0, _sessionController.download)(message, client, req.logger);
      }

      if (req.serverOptions?.websocket?.autoDownload) {
        await (0, _functions.autoDownload)(client, req, message);
      }

      req.io.emit('received-message', { response: message });
      if (req.serverOptions.webhook.onSelfMessage && message.fromMe)
      (0, _functions.callWebHook)(client, req, 'onselfmessage', message);
    });

    await client.onIncomingCall(async (call) => {
      req.io.emit('incomingcall', call);
      (0, _functions.callWebHook)(client, req, 'incomingcall', call);
    });
  }

  async listenAcks(client, req) {
    await client.onAck(async (ack) => {
      req.io.emit('onack', ack);
      (0, _functions.callWebHook)(client, req, 'onack', ack);
    });
  }

  async onPresenceChanged(client, req) {
    await client.onPresenceChanged(async (presenceChangedEvent) => {
      req.io.emit('onpresencechanged', presenceChangedEvent);
      (0, _functions.callWebHook)(client, req, 'onpresencechanged', presenceChangedEvent);
    });
  }

  async onReactionMessage(client, req) {
    await client.isConnected();
    await client.onReactionMessage(async (reaction) => {
      req.io.emit('onreactionmessage', reaction);
      (0, _functions.callWebHook)(client, req, 'onreactionmessage', reaction);
    });
  }

  async onRevokedMessage(client, req) {
    await client.isConnected();
    await client.onRevokedMessage(async (response) => {
      req.io.emit('onrevokedmessage', response);
      (0, _functions.callWebHook)(client, req, 'onrevokedmessage', response);
    });
  }
  async onPollResponse(client, req) {
    await client.isConnected();
    await client.onPollResponse(async (response) => {
      req.io.emit('onpollresponse', response);
      (0, _functions.callWebHook)(client, req, 'onpollresponse', response);
    });
  }
  async onLabelUpdated(client, req) {
    await client.isConnected();
    await client.onUpdateLabel(async (response) => {
      req.io.emit('onupdatelabel', response);
      (0, _functions.callWebHook)(client, req, 'onupdatelabel', response);
    });
  }

  encodeFunction(data, webhook) {
    data.webhook = webhook;
    return JSON.stringify(data);
  }

  decodeFunction(text, client) {
    const object = JSON.parse(text);
    if (object.webhook && !client.webhook) client.webhook = object.webhook;
    delete object.webhook;
    return object;
  }

  getClient(session) {
    let client = _sessionUtil.clientsArray[session];

    if (!client)
    client = _sessionUtil.clientsArray[session] = {
      status: null,
      session: session
    };
    return client;
  }
}exports.default = CreateSessionUtil;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfd3BwY29ubmVjdCIsInJlcXVpcmUiLCJfc2Vzc2lvbkNvbnRyb2xsZXIiLCJfY2hhdFdvb3RDbGllbnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2Z1bmN0aW9ucyIsIl9zZXNzaW9uVXRpbCIsIl9mYWN0b3J5IiwiQ3JlYXRlU2Vzc2lvblV0aWwiLCJzdGFydENoYXRXb290Q2xpZW50IiwiY2xpZW50IiwiY29uZmlnIiwiY2hhdFdvb3QiLCJjaGF0V29vdENsaWVudCIsInNlc3Npb24iLCJjcmVhdGVTZXNzaW9uVXRpbCIsInJlcSIsImNsaWVudHNBcnJheSIsInJlcyIsImdldENsaWVudCIsInN0YXR1cyIsImJvZHkiLCJ0b2tlblN0b3JlIiwiRmFjdG9yeSIsIm15VG9rZW5TdG9yZSIsImNyZWF0ZVRva2VuU3RvcnkiLCJ0b2tlbkRhdGEiLCJnZXRUb2tlbiIsInNldFRva2VuIiwic2VydmVyT3B0aW9ucyIsImN1c3RvbVVzZXJEYXRhRGlyIiwiY3JlYXRlT3B0aW9ucyIsInB1cHBldGVlck9wdGlvbnMiLCJhcmdzIiwiaGVhZGxlc3MiLCJleGVjdXRhYmxlUGF0aCIsInVzZXJEYXRhRGlyIiwiaWdub3JlSFRUUFNFcnJvcnMiLCJzbG93TW8iLCJ0ZXN0ZSIsIk9iamVjdCIsImFzc2lnbiIsInVzZUNocm9tZSIsImRldmljZU5hbWUiLCJwb3dlcmVkQnkiLCJjYXRjaFFSIiwiYmFzZTY0UXIiLCJhc2NpaVFSIiwiYXR0ZW1wdCIsInVybENvZGUiLCJleHBvcnRRUiIsIm9uTG9hZGluZ1NjcmVlbiIsInBlcmNlbnQiLCJtZXNzYWdlIiwibG9nZ2VyIiwiaW5mbyIsInN0YXR1c0ZpbmQiLCJldmVudEVtaXR0ZXIiLCJlbWl0IiwicXJjb2RlIiwiY2xvc2UiLCJ1bmRlZmluZWQiLCJjYWxsV2ViSG9vayIsImVycm9yIiwid3BwQ2xpZW50IiwiY3JlYXRlIiwic3RhcnQiLCJ3ZWJob29rIiwib25QYXJ0aWNpcGFudHNDaGFuZ2VkIiwib25SZWFjdGlvbk1lc3NhZ2UiLCJvblJldm9rZWRNZXNzYWdlIiwib25Qb2xsUmVzcG9uc2UiLCJvbkxhYmVsVXBkYXRlZCIsImUiLCJvcGVuZGF0YSIsInFyQ29kZSIsInVybGNvZGUiLCJpbWFnZUJ1ZmZlciIsIkJ1ZmZlciIsImZyb20iLCJpbyIsImRhdGEiLCJ0b1N0cmluZyIsIl9oZWFkZXJTZW50IiwianNvbiIsImlzQ29ubmVjdGVkIiwic3RhcnRIZWxwZXIiLCJjaGVja1N0YXRlU2Vzc2lvbiIsImxpc3Rlbk1lc3NhZ2VzIiwibGlzdGVuQWNrcyIsIm9uUHJlc2VuY2VDaGFuZ2VkIiwib25TdGF0ZUNoYW5nZSIsInN0YXRlIiwiY29uZmxpdHMiLCJTb2NrZXRTdGF0ZSIsIkNPTkZMSUNUIiwiaW5jbHVkZXMiLCJ1c2VIZXJlIiwib25NZXNzYWdlIiwidHlwZSIsIm9uTGl2ZUxvY2F0aW9uIiwic2VuZGVyIiwiaWQiLCJsb2NhdGlvbiIsIm9uQW55TWVzc2FnZSIsImRvd25sb2FkIiwid2Vic29ja2V0IiwiYXV0b0Rvd25sb2FkIiwicmVzcG9uc2UiLCJvblNlbGZNZXNzYWdlIiwiZnJvbU1lIiwib25JbmNvbWluZ0NhbGwiLCJjYWxsIiwib25BY2siLCJhY2siLCJwcmVzZW5jZUNoYW5nZWRFdmVudCIsInJlYWN0aW9uIiwib25VcGRhdGVMYWJlbCIsImVuY29kZUZ1bmN0aW9uIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlY29kZUZ1bmN0aW9uIiwidGV4dCIsIm9iamVjdCIsInBhcnNlIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbC9jcmVhdGVTZXNzaW9uVXRpbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5pbXBvcnQgeyBjcmVhdGUsIFNvY2tldFN0YXRlIH0gZnJvbSAnQHdwcGNvbm5lY3QtdGVhbS93cHBjb25uZWN0JztcclxuaW1wb3J0IHsgUmVxdWVzdCB9IGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IHsgZG93bmxvYWQgfSBmcm9tICcuLi9jb250cm9sbGVyL3Nlc3Npb25Db250cm9sbGVyJztcclxuaW1wb3J0IHsgV2hhdHNBcHBTZXJ2ZXIgfSBmcm9tICcuLi90eXBlcy9XaGF0c0FwcFNlcnZlcic7XHJcbmltcG9ydCBjaGF0V29vdENsaWVudCBmcm9tICcuL2NoYXRXb290Q2xpZW50JztcclxuaW1wb3J0IHsgYXV0b0Rvd25sb2FkLCBjYWxsV2ViSG9vaywgc3RhcnRIZWxwZXIgfSBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGNsaWVudHNBcnJheSwgZXZlbnRFbWl0dGVyIH0gZnJvbSAnLi9zZXNzaW9uVXRpbCc7XHJcbmltcG9ydCBGYWN0b3J5IGZyb20gJy4vdG9rZW5TdG9yZS9mYWN0b3J5JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENyZWF0ZVNlc3Npb25VdGlsIHtcclxuICBzdGFydENoYXRXb290Q2xpZW50KGNsaWVudDogYW55KSB7XHJcbiAgICBpZiAoY2xpZW50LmNvbmZpZy5jaGF0V29vdCAmJiAhY2xpZW50Ll9jaGF0V29vdENsaWVudClcclxuICAgICAgY2xpZW50Ll9jaGF0V29vdENsaWVudCA9IG5ldyBjaGF0V29vdENsaWVudChcclxuICAgICAgICBjbGllbnQuY29uZmlnLmNoYXRXb290LFxyXG4gICAgICAgIGNsaWVudC5zZXNzaW9uXHJcbiAgICAgICk7XHJcbiAgICByZXR1cm4gY2xpZW50Ll9jaGF0V29vdENsaWVudDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZVNlc3Npb25VdGlsKFxyXG4gICAgcmVxOiBhbnksXHJcbiAgICBjbGllbnRzQXJyYXk6IGFueSxcclxuICAgIHNlc3Npb246IHN0cmluZyxcclxuICAgIHJlcz86IGFueVxyXG4gICkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGNsaWVudCA9IHRoaXMuZ2V0Q2xpZW50KHNlc3Npb24pIGFzIGFueTtcclxuICAgICAgaWYgKGNsaWVudC5zdGF0dXMgIT0gbnVsbCAmJiBjbGllbnQuc3RhdHVzICE9PSAnQ0xPU0VEJykgcmV0dXJuO1xyXG4gICAgICBjbGllbnQuc3RhdHVzID0gJ0lOSVRJQUxJWklORyc7XHJcbiAgICAgIGNsaWVudC5jb25maWcgPSByZXEuYm9keTtcclxuXHJcbiAgICAgIGNvbnN0IHRva2VuU3RvcmUgPSBuZXcgRmFjdG9yeSgpO1xyXG4gICAgICBjb25zdCBteVRva2VuU3RvcmUgPSB0b2tlblN0b3JlLmNyZWF0ZVRva2VuU3RvcnkoY2xpZW50KTtcclxuICAgICAgY29uc3QgdG9rZW5EYXRhID0gYXdhaXQgbXlUb2tlblN0b3JlLmdldFRva2VuKHNlc3Npb24pO1xyXG5cclxuICAgICAgaWYgKCF0b2tlbkRhdGEpIHtcclxuICAgICAgICBteVRva2VuU3RvcmUuc2V0VG9rZW4oc2Vzc2lvbiwge30pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnN0YXJ0Q2hhdFdvb3RDbGllbnQoY2xpZW50KTtcclxuXHJcbiAgICAgIGlmIChyZXEuc2VydmVyT3B0aW9ucy5jdXN0b21Vc2VyRGF0YURpcikge1xyXG4gICAgICAgIHJlcS5zZXJ2ZXJPcHRpb25zLmNyZWF0ZU9wdGlvbnMucHVwcGV0ZWVyT3B0aW9ucyA9IHtcclxuICAgICAgICAgIGFyZ3M6IFsnLS1uby1zYW5kYm94J10sXHJcbiAgICAgICAgICBoZWFkbGVzczogJ25ldycsXHJcbiAgICAgICAgICBleGVjdXRhYmxlUGF0aDpcclxuICAgICAgICAgICAgJy4uXFxcXG5vZGVfbW9kdWxlc1xcXFxjaHJvbWl1bVxcXFxsaWJcXFxcY2hyb21pdW1cXFxcY2hyb21lLXdpblxcXFxjaHJvbWUuZXhlJyxcclxuICAgICAgICAgIHVzZXJEYXRhRGlyOiByZXEuc2VydmVyT3B0aW9ucy5jdXN0b21Vc2VyRGF0YURpciArIHNlc3Npb24sXHJcbiAgICAgICAgICBpZ25vcmVIVFRQU0Vycm9yczogdHJ1ZSxcclxuICAgICAgICAgIHNsb3dNbzogMTUwLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRlc3RlID0gT2JqZWN0LmFzc2lnbihcclxuICAgICAgICB7fSxcclxuICAgICAgICB7IHRva2VuU3RvcmU6IG15VG9rZW5TdG9yZSB9LFxyXG4gICAgICAgIHJlcS5zZXJ2ZXJPcHRpb25zLmNyZWF0ZU9wdGlvbnMsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc2Vzc2lvbjogc2Vzc2lvbixcclxuICAgICAgICAgIHVzZUNocm9tZTogZmFsc2UsXHJcbiAgICAgICAgICBkZXZpY2VOYW1lOiBjbGllbnQuY29uZmlnPy5kZXZpY2VOYW1lIHx8IHJlcS5zZXJ2ZXJPcHRpb25zLmRldmljZU5hbWUsXHJcbiAgICAgICAgICBwb3dlcmVkQnk6XHJcbiAgICAgICAgICAgIGNsaWVudC5jb25maWc/LnBvd2VyZWRCeSB8fFxyXG4gICAgICAgICAgICByZXEuc2VydmVyT3B0aW9ucy5wb3dlcmVkQnkgfHxcclxuICAgICAgICAgICAgJ1dQUENvbm5lY3QtU2VydmVyJyxcclxuICAgICAgICAgIGNhdGNoUVI6IChcclxuICAgICAgICAgICAgYmFzZTY0UXI6IGFueSxcclxuICAgICAgICAgICAgYXNjaWlRUjogYW55LFxyXG4gICAgICAgICAgICBhdHRlbXB0OiBhbnksXHJcbiAgICAgICAgICAgIHVybENvZGU6IHN0cmluZ1xyXG4gICAgICAgICAgKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0UVIocmVxLCBiYXNlNjRRciwgdXJsQ29kZSwgY2xpZW50LCByZXMpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG9uTG9hZGluZ1NjcmVlbjogKHBlcmNlbnQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIHJlcS5sb2dnZXIuaW5mbyhgWyR7c2Vzc2lvbn1dICR7cGVyY2VudH0lIC0gJHttZXNzYWdlfWApO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN0YXR1c0ZpbmQ6IChzdGF0dXNGaW5kOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBldmVudEVtaXR0ZXIuZW1pdChgc3RhdHVzLSR7Y2xpZW50LnNlc3Npb259YCwgY2xpZW50LCBzdGF0dXNGaW5kKTtcclxuICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBzdGF0dXNGaW5kID09PSAnYXV0b2Nsb3NlQ2FsbGVkJyB8fFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzRmluZCA9PT0gJ2Rlc2Nvbm5lY3RlZE1vYmlsZSdcclxuICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGNsaWVudC5zdGF0dXMgPSAnQ0xPU0VEJztcclxuICAgICAgICAgICAgICAgIGNsaWVudC5xcmNvZGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRzQXJyYXlbc2Vzc2lvbl0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnc3RhdHVzLWZpbmQnLCB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1c0ZpbmQsXHJcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiBjbGllbnQuc2Vzc2lvbixcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICByZXEubG9nZ2VyLmluZm8oc3RhdHVzRmluZCArICdcXG5cXG4nKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgICAgY29uc3Qgd3BwQ2xpZW50ID0gYXdhaXQgY3JlYXRlKHRlc3RlKTtcclxuXHJcbiAgICAgIGNsaWVudCA9IGNsaWVudHNBcnJheVtzZXNzaW9uXSA9IE9iamVjdC5hc3NpZ24od3BwQ2xpZW50LCBjbGllbnQpO1xyXG4gICAgICBhd2FpdCB0aGlzLnN0YXJ0KHJlcSwgY2xpZW50KTtcclxuXHJcbiAgICAgIGlmIChyZXEuc2VydmVyT3B0aW9ucy53ZWJob29rLm9uUGFydGljaXBhbnRzQ2hhbmdlZCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMub25QYXJ0aWNpcGFudHNDaGFuZ2VkKHJlcSwgY2xpZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHJlcS5zZXJ2ZXJPcHRpb25zLndlYmhvb2sub25SZWFjdGlvbk1lc3NhZ2UpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLm9uUmVhY3Rpb25NZXNzYWdlKGNsaWVudCwgcmVxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHJlcS5zZXJ2ZXJPcHRpb25zLndlYmhvb2sub25SZXZva2VkTWVzc2FnZSkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMub25SZXZva2VkTWVzc2FnZShjbGllbnQsIHJlcSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChyZXEuc2VydmVyT3B0aW9ucy53ZWJob29rLm9uUG9sbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5vblBvbGxSZXNwb25zZShjbGllbnQsIHJlcSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJlcS5zZXJ2ZXJPcHRpb25zLndlYmhvb2sub25MYWJlbFVwZGF0ZWQpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLm9uTGFiZWxVcGRhdGVkKGNsaWVudCwgcmVxKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXEubG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgb3BlbmRhdGEocmVxOiBSZXF1ZXN0LCBzZXNzaW9uOiBzdHJpbmcsIHJlcz86IGFueSkge1xyXG4gICAgYXdhaXQgdGhpcy5jcmVhdGVTZXNzaW9uVXRpbChyZXEsIGNsaWVudHNBcnJheSwgc2Vzc2lvbiwgcmVzKTtcclxuICB9XHJcblxyXG4gIGV4cG9ydFFSKFxyXG4gICAgcmVxOiBhbnksXHJcbiAgICBxckNvZGU6IGFueSxcclxuICAgIHVybENvZGU6IGFueSxcclxuICAgIGNsaWVudDogV2hhdHNBcHBTZXJ2ZXIsXHJcbiAgICByZXM/OiBhbnlcclxuICApIHtcclxuICAgIGV2ZW50RW1pdHRlci5lbWl0KGBxcmNvZGUtJHtjbGllbnQuc2Vzc2lvbn1gLCBxckNvZGUsIHVybENvZGUsIGNsaWVudCk7XHJcbiAgICBPYmplY3QuYXNzaWduKGNsaWVudCwge1xyXG4gICAgICBzdGF0dXM6ICdRUkNPREUnLFxyXG4gICAgICBxcmNvZGU6IHFyQ29kZSxcclxuICAgICAgdXJsY29kZTogdXJsQ29kZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGltYWdlQnVmZmVyID0gQnVmZmVyLmZyb20ocXJDb2RlLCAnYmFzZTY0Jyk7XHJcblxyXG4gICAgcmVxLmlvLmVtaXQoJ3FyQ29kZScsIHtcclxuICAgICAgZGF0YTogJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgaW1hZ2VCdWZmZXIudG9TdHJpbmcoJ2Jhc2U2NCcpLFxyXG4gICAgICBzZXNzaW9uOiBjbGllbnQuc2Vzc2lvbixcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAncXJjb2RlJywge1xyXG4gICAgICBxcmNvZGU6IHFyQ29kZSxcclxuICAgICAgdXJsY29kZTogdXJsQ29kZSxcclxuICAgICAgc2Vzc2lvbjogY2xpZW50LnNlc3Npb24sXHJcbiAgICB9KTtcclxuICAgIGlmIChyZXMgJiYgIXJlcy5faGVhZGVyU2VudClcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN0YXR1czogJ3FyY29kZScsXHJcbiAgICAgICAgcXJjb2RlOiBxckNvZGUsXHJcbiAgICAgICAgdXJsY29kZTogdXJsQ29kZSxcclxuICAgICAgICBzZXNzaW9uOiBjbGllbnQuc2Vzc2lvbixcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBvblBhcnRpY2lwYW50c0NoYW5nZWQocmVxOiBhbnksIGNsaWVudDogYW55KSB7XHJcbiAgICBhd2FpdCBjbGllbnQuaXNDb25uZWN0ZWQoKTtcclxuICAgIGF3YWl0IGNsaWVudC5vblBhcnRpY2lwYW50c0NoYW5nZWQoKG1lc3NhZ2U6IGFueSkgPT4ge1xyXG4gICAgICBjYWxsV2ViSG9vayhjbGllbnQsIHJlcSwgJ29ucGFydGljaXBhbnRzY2hhbmdlZCcsIG1lc3NhZ2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBzdGFydChyZXE6IFJlcXVlc3QsIGNsaWVudDogV2hhdHNBcHBTZXJ2ZXIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGNsaWVudC5pc0Nvbm5lY3RlZCgpO1xyXG4gICAgICBPYmplY3QuYXNzaWduKGNsaWVudCwgeyBzdGF0dXM6ICdDT05ORUNURUQnLCBxcmNvZGU6IG51bGwgfSk7XHJcblxyXG4gICAgICByZXEubG9nZ2VyLmluZm8oYFN0YXJ0ZWQgU2Vzc2lvbjogJHtjbGllbnQuc2Vzc2lvbn1gKTtcclxuICAgICAgLy9jYWxsV2ViSG9vayhjbGllbnQsIHJlcSwgJ3Nlc3Npb24tbG9nZ2VkJywgeyBzdGF0dXM6ICdDT05ORUNURUQnfSk7XHJcbiAgICAgIHJlcS5pby5lbWl0KCdzZXNzaW9uLWxvZ2dlZCcsIHsgc3RhdHVzOiB0cnVlLCBzZXNzaW9uOiBjbGllbnQuc2Vzc2lvbiB9KTtcclxuICAgICAgc3RhcnRIZWxwZXIoY2xpZW50LCByZXEpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVxLmxvZ2dlci5lcnJvcihlcnJvcik7XHJcbiAgICAgIHJlcS5pby5lbWl0KCdzZXNzaW9uLWVycm9yJywgY2xpZW50LnNlc3Npb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuY2hlY2tTdGF0ZVNlc3Npb24oY2xpZW50LCByZXEpO1xyXG4gICAgYXdhaXQgdGhpcy5saXN0ZW5NZXNzYWdlcyhjbGllbnQsIHJlcSk7XHJcblxyXG4gICAgaWYgKHJlcS5zZXJ2ZXJPcHRpb25zLndlYmhvb2subGlzdGVuQWNrcykge1xyXG4gICAgICBhd2FpdCB0aGlzLmxpc3RlbkFja3MoY2xpZW50LCByZXEpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXEuc2VydmVyT3B0aW9ucy53ZWJob29rLm9uUHJlc2VuY2VDaGFuZ2VkKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMub25QcmVzZW5jZUNoYW5nZWQoY2xpZW50LCByZXEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgY2hlY2tTdGF0ZVNlc3Npb24oY2xpZW50OiBXaGF0c0FwcFNlcnZlciwgcmVxOiBSZXF1ZXN0KSB7XHJcbiAgICBhd2FpdCBjbGllbnQub25TdGF0ZUNoYW5nZSgoc3RhdGUpID0+IHtcclxuICAgICAgcmVxLmxvZ2dlci5pbmZvKGBTdGF0ZSBDaGFuZ2UgJHtzdGF0ZX06ICR7Y2xpZW50LnNlc3Npb259YCk7XHJcbiAgICAgIGNvbnN0IGNvbmZsaXRzID0gW1NvY2tldFN0YXRlLkNPTkZMSUNUXTtcclxuXHJcbiAgICAgIGlmIChjb25mbGl0cy5pbmNsdWRlcyhzdGF0ZSkpIHtcclxuICAgICAgICBjbGllbnQudXNlSGVyZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGxpc3Rlbk1lc3NhZ2VzKGNsaWVudDogV2hhdHNBcHBTZXJ2ZXIsIHJlcTogUmVxdWVzdCkge1xyXG4gICAgYXdhaXQgY2xpZW50Lm9uTWVzc2FnZShhc3luYyAobWVzc2FnZTogYW55KSA9PiB7XHJcbiAgICAgIGV2ZW50RW1pdHRlci5lbWl0KGBtZW5zYWdlbS0ke2NsaWVudC5zZXNzaW9ufWAsIGNsaWVudCwgbWVzc2FnZSk7XHJcbiAgICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnb25tZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09ICdsb2NhdGlvbicpXHJcbiAgICAgICAgY2xpZW50Lm9uTGl2ZUxvY2F0aW9uKG1lc3NhZ2Uuc2VuZGVyLmlkLCAobG9jYXRpb24pID0+IHtcclxuICAgICAgICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnbG9jYXRpb24nLCBsb2NhdGlvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBjbGllbnQub25BbnlNZXNzYWdlKGFzeW5jIChtZXNzYWdlOiBhbnkpID0+IHtcclxuICAgICAgbWVzc2FnZS5zZXNzaW9uID0gY2xpZW50LnNlc3Npb247XHJcblxyXG4gICAgICBpZiAobWVzc2FnZS50eXBlID09PSAnc3RpY2tlcicpIHtcclxuICAgICAgICBkb3dubG9hZChtZXNzYWdlLCBjbGllbnQsIHJlcS5sb2dnZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmVxLnNlcnZlck9wdGlvbnM/LndlYnNvY2tldD8uYXV0b0Rvd25sb2FkKSB7XHJcbiAgICAgICAgYXdhaXQgYXV0b0Rvd25sb2FkKGNsaWVudCwgcmVxLCBtZXNzYWdlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmVxLmlvLmVtaXQoJ3JlY2VpdmVkLW1lc3NhZ2UnLCB7IHJlc3BvbnNlOiBtZXNzYWdlIH0pO1xyXG4gICAgICBpZiAocmVxLnNlcnZlck9wdGlvbnMud2ViaG9vay5vblNlbGZNZXNzYWdlICYmIG1lc3NhZ2UuZnJvbU1lKVxyXG4gICAgICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnb25zZWxmbWVzc2FnZScsIG1lc3NhZ2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgY2xpZW50Lm9uSW5jb21pbmdDYWxsKGFzeW5jIChjYWxsKSA9PiB7XHJcbiAgICAgIHJlcS5pby5lbWl0KCdpbmNvbWluZ2NhbGwnLCBjYWxsKTtcclxuICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdpbmNvbWluZ2NhbGwnLCBjYWxsKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgbGlzdGVuQWNrcyhjbGllbnQ6IFdoYXRzQXBwU2VydmVyLCByZXE6IFJlcXVlc3QpIHtcclxuICAgIGF3YWl0IGNsaWVudC5vbkFjayhhc3luYyAoYWNrKSA9PiB7XHJcbiAgICAgIHJlcS5pby5lbWl0KCdvbmFjaycsIGFjayk7XHJcbiAgICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnb25hY2snLCBhY2spO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBvblByZXNlbmNlQ2hhbmdlZChjbGllbnQ6IFdoYXRzQXBwU2VydmVyLCByZXE6IFJlcXVlc3QpIHtcclxuICAgIGF3YWl0IGNsaWVudC5vblByZXNlbmNlQ2hhbmdlZChhc3luYyAocHJlc2VuY2VDaGFuZ2VkRXZlbnQpID0+IHtcclxuICAgICAgcmVxLmlvLmVtaXQoJ29ucHJlc2VuY2VjaGFuZ2VkJywgcHJlc2VuY2VDaGFuZ2VkRXZlbnQpO1xyXG4gICAgICBjYWxsV2ViSG9vayhjbGllbnQsIHJlcSwgJ29ucHJlc2VuY2VjaGFuZ2VkJywgcHJlc2VuY2VDaGFuZ2VkRXZlbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBvblJlYWN0aW9uTWVzc2FnZShjbGllbnQ6IFdoYXRzQXBwU2VydmVyLCByZXE6IFJlcXVlc3QpIHtcclxuICAgIGF3YWl0IGNsaWVudC5pc0Nvbm5lY3RlZCgpO1xyXG4gICAgYXdhaXQgY2xpZW50Lm9uUmVhY3Rpb25NZXNzYWdlKGFzeW5jIChyZWFjdGlvbjogYW55KSA9PiB7XHJcbiAgICAgIHJlcS5pby5lbWl0KCdvbnJlYWN0aW9ubWVzc2FnZScsIHJlYWN0aW9uKTtcclxuICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdvbnJlYWN0aW9ubWVzc2FnZScsIHJlYWN0aW9uKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25SZXZva2VkTWVzc2FnZShjbGllbnQ6IFdoYXRzQXBwU2VydmVyLCByZXE6IFJlcXVlc3QpIHtcclxuICAgIGF3YWl0IGNsaWVudC5pc0Nvbm5lY3RlZCgpO1xyXG4gICAgYXdhaXQgY2xpZW50Lm9uUmV2b2tlZE1lc3NhZ2UoYXN5bmMgKHJlc3BvbnNlOiBhbnkpID0+IHtcclxuICAgICAgcmVxLmlvLmVtaXQoJ29ucmV2b2tlZG1lc3NhZ2UnLCByZXNwb25zZSk7XHJcbiAgICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnb25yZXZva2VkbWVzc2FnZScsIHJlc3BvbnNlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBhc3luYyBvblBvbGxSZXNwb25zZShjbGllbnQ6IFdoYXRzQXBwU2VydmVyLCByZXE6IFJlcXVlc3QpIHtcclxuICAgIGF3YWl0IGNsaWVudC5pc0Nvbm5lY3RlZCgpO1xyXG4gICAgYXdhaXQgY2xpZW50Lm9uUG9sbFJlc3BvbnNlKGFzeW5jIChyZXNwb25zZTogYW55KSA9PiB7XHJcbiAgICAgIHJlcS5pby5lbWl0KCdvbnBvbGxyZXNwb25zZScsIHJlc3BvbnNlKTtcclxuICAgICAgY2FsbFdlYkhvb2soY2xpZW50LCByZXEsICdvbnBvbGxyZXNwb25zZScsIHJlc3BvbnNlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBhc3luYyBvbkxhYmVsVXBkYXRlZChjbGllbnQ6IFdoYXRzQXBwU2VydmVyLCByZXE6IFJlcXVlc3QpIHtcclxuICAgIGF3YWl0IGNsaWVudC5pc0Nvbm5lY3RlZCgpO1xyXG4gICAgYXdhaXQgY2xpZW50Lm9uVXBkYXRlTGFiZWwoYXN5bmMgKHJlc3BvbnNlOiBhbnkpID0+IHtcclxuICAgICAgcmVxLmlvLmVtaXQoJ29udXBkYXRlbGFiZWwnLCByZXNwb25zZSk7XHJcbiAgICAgIGNhbGxXZWJIb29rKGNsaWVudCwgcmVxLCAnb251cGRhdGVsYWJlbCcsIHJlc3BvbnNlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5jb2RlRnVuY3Rpb24oZGF0YTogYW55LCB3ZWJob29rOiBhbnkpIHtcclxuICAgIGRhdGEud2ViaG9vayA9IHdlYmhvb2s7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBkZWNvZGVGdW5jdGlvbih0ZXh0OiBhbnksIGNsaWVudDogYW55KSB7XHJcbiAgICBjb25zdCBvYmplY3QgPSBKU09OLnBhcnNlKHRleHQpO1xyXG4gICAgaWYgKG9iamVjdC53ZWJob29rICYmICFjbGllbnQud2ViaG9vaykgY2xpZW50LndlYmhvb2sgPSBvYmplY3Qud2ViaG9vaztcclxuICAgIGRlbGV0ZSBvYmplY3Qud2ViaG9vaztcclxuICAgIHJldHVybiBvYmplY3Q7XHJcbiAgfVxyXG5cclxuICBnZXRDbGllbnQoc2Vzc2lvbjogYW55KSB7XHJcbiAgICBsZXQgY2xpZW50ID0gY2xpZW50c0FycmF5W3Nlc3Npb25dO1xyXG5cclxuICAgIGlmICghY2xpZW50KVxyXG4gICAgICBjbGllbnQgPSBjbGllbnRzQXJyYXlbc2Vzc2lvbl0gPSB7XHJcbiAgICAgICAgc3RhdHVzOiBudWxsLFxyXG4gICAgICAgIHNlc3Npb246IHNlc3Npb24sXHJcbiAgICAgIH0gYXMgYW55O1xyXG4gICAgcmV0dXJuIGNsaWVudDtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFlQSxJQUFBQSxXQUFBLEdBQUFDLE9BQUE7OztBQUdBLElBQUFDLGtCQUFBLEdBQUFELE9BQUE7O0FBRUEsSUFBQUUsZUFBQSxHQUFBQyxzQkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssWUFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sUUFBQSxHQUFBSCxzQkFBQSxDQUFBSCxPQUFBLDBCQUEyQyxDQXZCM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBV2UsTUFBTU8saUJBQWlCLENBQUMsQ0FDckNDLG1CQUFtQkEsQ0FBQ0MsTUFBVyxFQUFFLENBQy9CLElBQUlBLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDQyxRQUFRLElBQUksQ0FBQ0YsTUFBTSxDQUFDUCxlQUFlLEVBQ25ETyxNQUFNLENBQUNQLGVBQWUsR0FBRyxJQUFJVSx1QkFBYyxDQUN6Q0gsTUFBTSxDQUFDQyxNQUFNLENBQUNDLFFBQVEsRUFDdEJGLE1BQU0sQ0FBQ0ksT0FDVCxDQUFDLENBQ0gsT0FBT0osTUFBTSxDQUFDUCxlQUFlLENBQy9CLENBRUEsTUFBTVksaUJBQWlCQSxDQUNyQkMsR0FBUSxFQUNSQyxZQUFpQjtFQUNqQkgsT0FBZTtFQUNmSSxHQUFTO0VBQ1Q7SUFDQSxJQUFJO01BQ0YsSUFBSVIsTUFBTSxHQUFHLElBQUksQ0FBQ1MsU0FBUyxDQUFDTCxPQUFPLENB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